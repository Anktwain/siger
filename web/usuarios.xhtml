<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <meta charset="utf-8"></meta>
    <title>SigerWeb - Usuarios</title>
    <h:outputStylesheet library="css" name="usuarios.css" />
    <link rel="shortcut icon" href="resources/img/iconos/icono1.ico" type="image/x-icon" />
  </h:head>
  <h:body>
    <p:growl id="growl" showDetail="true" sticky="true" />
    <div id="overlay" class="transparent" style="display: none"></div>        
    <ui:include src="barraSuperior.xhtml" />
    <ui:include src="barraLateral.xhtml" />
    <div id="main-container">
      <div id="breadcrumb">
        <ul class="breadcrumb">
          <li>
            <i class="fa fa-home"></i>
            <a href="#{indexBean.vista}">Inicio</a>
          </li>
          <li class="active">Usuarios</li>
        </ul>
      </div>
      <div class="main-header clearfix">
        <div class="page-title">
          <h3 class="no-margin">Usuarios</h3>
          <span>Agregue o elimine usuarios del sistema, confirme o elimine a los 
            gestores y modifique informaci&oacute;n de todos los usuarios del 
            sistema.</span>
        </div>
      </div>
      <div class="padding-md">
        <div class="row">
          <h:form id="botonesUsuariosForm">
            <div class="col-xs-3">
              <div class="panel-stat3 bg-danger">
                <h3 class="m-top-none">Confirmar gestores</h3>
                <div id="botonazo">
                  <p:commandButton value="Confirmar" class="btn btn-default" oncomplete="PF('dlgConfirmarGestores').show();" />
                </div>
                <div class="stat-icon">
                  <i class="fa fa-check-circle-o fa-2x" />
                </div>
              </div>
            </div>
            <div class="col-xs-3">
              <div class="panel-stat3 bg-info">
                <h3 class="m-top-none">Nuevo usuario</h3>
                <div id="botonazo">
                  <p:commandButton value="Nuevo usuario" class="btn btn-default" oncomplete="PF('dlgNuevoUsuario').show();" />
                </div>
                <div class="stat-icon">
                  <i class="fa fa-plus fa-2x" />
                </div>
              </div>
            </div>
            <div class="col-xs-3">
              <div class="panel-stat3 bg-primary">
                <h3 class="m-top-none">Buscar usuarios</h3>
                <div id="botonazo">
                  <p:commandButton value="Buscar" class="btn btn-default" oncomplete="PF('dlgBuscarUsuarios').show();" />
                </div>
                <div class="stat-icon">
                  <i class="fa fa-search fa-2x" />
                </div>
              </div>
            </div>
          </h:form>
        </div>
      </div>
    </div><!-- /main-container -->
    <!-- Footer ================================================== -->
    <ui:include src="barraInferior.xhtml" />
  </h:body>
  <p:dialog widgetVar="dlgConfirmarGestores" header="Confirmar gestores" modal="true" resizable="false">
    <h:form id="formConfirmarGestores">
      <br />
      <p:contextMenu for="gestoresPorConfirmar" style="width:200px;">
        <p:menuitem value="Confirmar" icon="ui-icon-check" />
        <p:menuitem value="Rechazar" icon="ui-icon-close" />
      </p:contextMenu>
      <p:dataTable id="gestoresPorConfirmar" var="u" value="#{usuariosBean.usuariosNoConfirmados}" rowKey="#{u.idUsuario}" selectionMode="single" selection="#{usuariosBean.usuarioSeleccionado}" emptyMessage="No existen gestores por confirmar."  paginator="true" rows="15" paginatorPosition="bottom" paginatorAlwaysVisible="false" style="width: 700px;">
        <f:facet name="header">
          Lista de usuarios por confirmar para este despacho
        </f:facet>
        <p:column headerText="Nombre" style="width:250px;" > 
          <h:outputText value="#{u.nombre} #{u.paterno} #{u.materno}"/>
        </p:column>
        <p:column headerText="Nombre de login" style="width:150px;" > 
          <h:outputText value="#{u.nombreLogin}"/>
        </p:column>
        <p:column headerText="Correo proporcionado" style="width:250px;" > 
          <h:outputText value="#{u.correo}"/>
        </p:column>
      </p:dataTable>
    </h:form>
  </p:dialog>
  <p:dialog widgetVar="dlgNuevoUsuario" header="Agregar un usuario" modal="true" resizable="false">
    <!-- FORMULARIO PARA NUEVO USUARIO -->
  </p:dialog>
  <p:dialog widgetVar="dlgBuscarUsuarios" header="Busqueda de usuarios" modal="true" resizable="false">
    <h:form id="formBuscarUsuarios">
      <br />
      <p:contextMenu for="usuariosActuales" style="width:200px;">
        <p:menuitem value="Ver detalle" icon="ui-icon-search" />
        <p:menuitem value="Eliminar" icon="ui-icon-close" />
      </p:contextMenu>
      <p:dataTable id="usuariosActuales" var="u" value="#{usuariosBean.usuariosActuales}" rowKey="#{u.idUsuario}" selectionMode="single" selection="#{usuariosBean.usuarioSeleccionado}" emptyMessage="No existen gestores por confirmar."  paginator="true" rows="15" paginatorPosition="bottom" paginatorAlwaysVisible="false" style="width: 700px;">
        <f:facet name="header">
          Lista de usuarios en este despacho
        </f:facet>
        <p:column headerText="Nombre" style="width:250px;" > 
          <h:outputText value="#{u.nombre} #{u.paterno} #{u.materno}"/>
        </p:column>
        <p:column headerText="Nombre de login" style="width:150px;" > 
          <h:outputText value="#{u.nombreLogin}"/>
        </p:column>
        <p:column headerText="Correo proporcionado" style="width:250px;" > 
          <h:outputText value="#{u.correo}"/>
        </p:column>
      </p:dataTable>
    </h:form>
  </p:dialog>
</html>