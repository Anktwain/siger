<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns="http://www.w3.org/1999/xhtml">
  <h:head>
    <meta charset="utf-8"></meta>
  </h:head> 
  <body>
    <div class="clearfix">
      <div class="pull-left">
        <h:form id="formNuevaGestion">
          <h4>Gestionar credito</h4>
          <br />
          <strong>
            Tipo de gestion:
          </strong>
          <p:selectOneMenu id="tipoGestion" value="#{gestionBean.tipoSeleccionado}" style="width:200px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaTipos}" />
            <p:ajax update="tipoGestion, dondeGestion, asuntoGestion, tipoSujetoGestion, sujetoGestion" listener="#{gestionBean.preparaDonde()}" />
          </p:selectOneMenu>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <strong>
            Donde:
          </strong>
          <p:selectOneMenu id="dondeGestion" value="#{gestionBean.lugarSeleccionado}" style="width:250px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaDonde}" />
            <p:ajax update="asuntoGestion" listener="#{gestionBean.preparaAsunto()}" />
          </p:selectOneMenu>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <strong>
            Asunto:
          </strong>
          <p:selectOneMenu id="asuntoGestion" value="#{gestionBean.asuntoSeleccionado}" style="width:250px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaAsuntos}" />
            <p:ajax update="tipoSujetoGestion" listener="#{gestionBean.preparaTipoSujeto()}" />
          </p:selectOneMenu>
          <br />
          <br />
          <strong>
            Se realiza la cobranza de la cuenta con:
          </strong>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <p:selectOneMenu id="tipoSujetoGestion" value="#{gestionBean.tipoSujetoSeleccionado}" style="width:250px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaTipoSujetos}" />
            <p:ajax update="sujetoGestion" listener="#{gestionBean.preparaSujetos()}" />
          </p:selectOneMenu>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <p:selectOneMenu id="sujetoGestion" value="#{gestionBean.sujetoSeleccionado}" style="width:250px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaSujetos}" />
            <p:ajax update="estatusInformativoGestion" />
          </p:selectOneMenu>
          <br />
          <br />
          <strong>
            Informacion para el banco:
          </strong>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <p:selectOneMenu id="estatusInformativoGestion" value="#{gestionBean.estatusSeleccionado}" style="width:250px">
            <f:selectItem itemLabel="" itemValue="" />
            <f:selectItems value="#{gestionBean.listaEstatus}" />
          </p:selectOneMenu>
          <br />
          <br />
          <strong>
            Gestion:
          </strong>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <p:inputTextarea rows="3" cols="100" id="gestion" value="#{gestionBean.gestion}" >
            <p:ajax event="keyup"/>
          </p:inputTextarea>
          <br />
          <br />
          <p:commandButton value="Enviar gestion" actionListener="#{gestionBean.crearNuevaGestion()}" update="growl" />
        </h:form>
      </div>
    </div>
  </body>
</html>