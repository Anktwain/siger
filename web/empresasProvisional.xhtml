<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns="http://www.w3.org/1999/xhtml">
  <h:head>
    <meta charset="utf-8"></meta>
    <title>SigerWeb - Empresas</title>
    <link rel="shortcut icon" href="resources/img/iconos/icono1.ico" type="image/x-icon" />
  </h:head> 
  <h:body>
    <p:growl id="growl" showDetail="true" sticky="true" />
    <div id="overlay" class="transparent" style="display: none;"></div>
    <ui:include src="barraSuperior.xhtml" />
    <ui:include src="barraLateral.xhtml" />
    <div id="main-container">
      <div id="breadcrumb">
        <ul class="breadcrumb">
          <li>
            <i class="fa fa-home">
            </i>
            <a href="panelAdministrativo.xhtml">Inicio</a>
          </li>
          <li class="active">
            Empresas
          </li>
        </ul>
      </div>
      <div class="main-header clearfix">
        <div class="page-title">
          <h3 class="no-margin">Empresas</h3>
          <span>Consulte informaci&oacute;n de las empresas, registre a una nueva empresa, modifique o elimine las empresas registradas</span>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-tab clearfix">
          <ul class="tab-bar">
            <li><a href="#nueva" data-toggle="tab" title="Click aqui si desea dar de alta una empresa"><h2><i class="fa fa-plus"></i> Nueva empresa</h2></a></li>
            <li><a href="#editar" data-toggle="tab" title="Click aqui si desea editar una empresa que ya esta registrada en el sistema"><h2><i class="fa fa-pencil"></i> Editar empresa</h2></a></li>
          </ul>
        </div>
        <div class="panel-body">
          <div class="tab-content">
            <div class="tab-pane fade" id="nueva">
              <h:form id="formNuevaEmpresa">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4>Registre a una empresa en el sistema</h4>
                  </div>
                  <div class="modal-body">
                  </div>
                  <div class="modal-footer">
                  </div>
                </div><!-- /.modal-content -->
              </h:form>
            </div>
            <div class="tab-pane fade" id="editar">
              <h:form id="formEditarEmpresa">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4>Seleccione la empresa y de click en "Editar"</h4>
                  </div>
                  <div class="modal-body">
                    <p:dataTable id="editarEmpresa" var="sujeto" value="#{vistaEmpresas.listaEmpresas}" rowKey="#{sujeto.rfc}" selection="#{vistaEmpresas.sujetoSeleccionado}" selectionMode="single" paginator="true" rows="10" style="width: 700px; margin-left: auto; margin-right: auto;">
                      <f:facet name="header">
                        Empresas registradas en el sistema
                      </f:facet>
                      <p:column headerText="Nombre de la empresa">
                        <p:outputLabel value="#{sujeto.nombreRazonSocial}" style="font-family: 'Open Sans',sans-serif; font-weight: 700;" />
                      </p:column>
                      <p:column headerText="RFC"> 
                        <h:outputText value="#{sujeto.rfc}" style="font-family: 'Open Sans',sans-serif; font-weight: 700;" />
                      </p:column>
                      <f:facet name="footer">
                        <p:commandButton process="editarEmpresa" icon="ui-icon-pencil" value="Editar" />
                      </f:facet>
                    </p:dataTable>
                  </div>
                  <div class="modal-footer">
                  </div>
                </div><!-- /.modal-content -->
              </h:form>
            </div>
          </div>
        </div>
      </div>
    </div><!-- /main-container -->
    <!-- Footer ================================================== -->
    <ui:include src="barraInferior.xhtml" />
    <!-- DIALOGOS -->
  </h:body>
</html>