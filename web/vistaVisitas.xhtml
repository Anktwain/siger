<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns="http://www.w3.org/1999/xhtml">
  <h:head>
    <meta charset="utf-8"></meta>
    <title>SigerWeb - Visitas</title>
  </h:head> 
  <body>
    <p:growl id="growl" showDetail="true" sticky="true" />
    <!-- Overlay Div -->
    <div id="overlay" class="transparent" style="display: none"></div>
    <ui:include src="barraSuperior.xhtml" />
    <ui:include src="barraLateral.xhtml" />
    <div id="main-container">
      <h:form rendered="#{indexBean.adminVisible}">
        <div id="breadcrumb">
          <ul class="breadcrumb">
            <li>
              <i class="fa fa-home"></i><a href="#{indexBean.vista}">Inicio</a>
            </li>
            <li>
              <a href="cuentas.xhtml">Cuentas</a>
            </li>
            <li>
              <a href="vistaCreditoAdmin.xhtml">Detalle credito <p:outputLabel value="#{vistaCreditoBean.creditoActual.numeroCredito}" /></a>
            </li>
            <li class="active">
              Impresion de visitas
            </li>
          </ul>
        </div>
      </h:form>
      <h:form rendered="#{!indexBean.adminVisible}">
        <div id="breadcrumb">
          <ul class="breadcrumb">
            <li>
              <i class="fa fa-home">
              </i>
              <a href="#{indexBean.vista}">Inicio</a>
            </li>
            <li>
              Campa√±a: <h:outputText value="#{cuentasGestorBean.seleccion.nombreCampana}" />
            </li>
            <li>
              <a href="vistaCampanaActual.xhtml">Detalle credito <p:outputLabel value="#{cuentasGestorBean.creditoActual.numeroCredito}" /></a>
            </li>
            <li class="active">
              Impresion de visitas
            </li>
          </ul>
        </div>
      </h:form>
      <div class="padding-md">
        <div class="col-lg-10">
          <h:form id="visitasForm">
            <h:outputText value="En periodo de impresion de correo" style="color: #00CC00; font-size: 16px; font-family: 'Open Sans',sans-serif;" rendered="#{visitasBean.periodoSepomexActivo}" />
            <br />
            <h:outputText value="En periodo de impresion para visitas" style="color: #00CC00; font-size: 16px; font-family: 'Open Sans',sans-serif;" rendered="#{visitasBean.periodoVisitasActivo}" />
            <br />
            <h:outputText value="En periodo de impresion para correo electronico" style="color: #00CC00; font-size: 16px; font-family: 'Open Sans',sans-serif;" rendered="#{visitasBean.periodoEmailActivo}" />
            <br />
            <br />
            <p:commandButton value="Generar" icon="ui-icon-gear" actionListener="#{visitasBean.generarPdf()}" update=":growl, visitasForm" />
            &nbsp;&nbsp;&nbsp;&nbsp;
            <p:button value="Descargar" icon="ui-icon-arrowthick-1-s" rendered="#{visitasBean.descargarPdf}" href="#{visitasBean.rutaPdf}" target="_blank" />
          </h:form>
        </div>
      </div>
    </div><!-- /main-container -->
    <!-- Footer ================================================== -->
    <ui:include src="barraInferior.xhtml" />
  </body>
  <!-- DIALOGO BARRA DE CARGA -->
  <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
  <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false" >
    <p:graphicImage library="img" name="loadingBarra.gif" />
  </p:dialog>
</html>