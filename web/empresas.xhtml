<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns="http://www.w3.org/1999/xhtml">
    <h:head>
        <meta charset="utf-8"></meta>
        <title>SigerWeb - Empresas</title>
        <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css" />
        <h:outputStylesheet library="font-awesome-4.3.0" name="css/font-awesome.min.css" />
        <h:outputStylesheet library="css" name="pace.css" />
        <h:outputStylesheet library="css" name="colorbox/colorbox.css" />
        <h:outputStylesheet library="css" name="morris.css" />
        <h:outputStylesheet library="css" name="endless.min.css" />
        <h:outputStylesheet library="css" name="endless-skin.css" />
        <h:outputStylesheet library="css" name="usuarios.css" />
        <h:outputScript library="js" name="jquery-1.10.2.min.js" />
        <h:outputScript library="bootstrap" name="/js/bootstrap.js" />
        <h:outputScript library="js" name="jquery.flot.min.js" />
        <h:outputScript library="js" name="rapheal.min.js" />
        <h:outputScript library="js" name="morris.min.js" />
        <h:outputScript library="js" name="jquery.colorbox.min.js" />
        <h:outputScript library="js" name="jquery.sparkline.min.js" />
        <h:outputScript library="js" name="/uncompressed/pace.js" />
        <h:outputScript library="js" name="jquery.popupoverlay.min.js" />
        <h:outputScript library="js" name="jquery.slimscroll.min.js" />
        <h:outputScript library="js" name="modernizr.min.js" />
        <h:outputScript library="js" name="jquery.cookie.min.js" />
        <h:outputScript library="js" name="/endless/endless_dashboard.js" />
        <h:outputScript library="js" name="/endless/endless.js" />
        <h:outputScript library="primefaces" name="jquery.js" />
        <link rel="shortcut icon" href="resources/img/icono.ico" type="image/x-icon" />
    </h:head> 
    <body class="overflow-hidden">
        <!-- Overlay Div -->
        <div id="overlay" class="transparent"></div>
        <ui:include src="barraSuperior.xhtml" />
        <ui:include src="barraLateral.xhtml" />
        <div id="main-container">
            <div id="opciones">
                <h:form>
                    <div id="confirmagestores" class="panel bg-danger">
                        <div class="panel-body">
                            <h4>Nueva empresa</h4>
                            <div id="botonazo">
                                <a href="#formModalNuevaEmpresa" role="button" data-toggle="modal" class="btn btn-default btn-sm">Nueva empresa</a>
                            </div>
                            <strong class="pull-left m-top-xs">Agregue una empresa al catalogo del sistema.</strong>
                        </div>
                    </div>
                </h:form>
                <h:form>
                    <div id="nuevousuario" class="panel bg-info">
                        <div class="panel-body">
                            <h4>Editar empresas</h4>
                            <div id="botonazo">
                                <a href="#formModalEditarEmpresa" role="button" data-toggle="modal" class="btn btn-default btn-sm">Editar empresas</a>
                            </div>
                            <strong class="pull-left m-top-xs">Modifique los datos de una empresa o eliminela.</strong>
                        </div>
                    </div>
                </h:form>
            </div>
        </div><!-- /main-container -->
        <!-- DIALOGOS MODALES-->
        <!-- NUEVA EMPRESA -->
        <div class="modal fade" id="formModalNuevaEmpresa">
            <div class="modal-dialog">
                <h:form id="formConfirmarGestores">
                    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4>Nueva empresa</h4>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <p:outputLabel value="Nombre(s): " />
                                <p:inputText id="nombre" type="text" class="form-control input-sm" value="#{usuariosBean.nombre}"
                                             required="true" requiredMessage="Ingrese un nombre" />
                            </div><!-- /form-group -->
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <p:outputLabel value="Apellido Paterno:" />
                                        <p:inputText id="paterno" type="text" class="form-control input-sm" value="#{usuariosBean.paterno}" />
                                    </div>
                                </div><!-- /.col -->
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <p:outputLabel id="materno" value="Apellido Materno:" />
                                        <p:inputText type="text" class="form-control input-sm" value="#{usuariosBean.materno}" />
                                    </div>
                                </div><!-- /.col -->
                            </div><!-- /.row -->
                            <div class="form-group">
                                <p:outputLabel id="nombreUsuario" value="Nombre de Usuario: " />
                                <p:inputText type="text" class="form-control input-sm" value="#{usuariosBean.nombreLogin}"
                                             required="true" requiredMessage="Ingrese un nombre de usuario" />
                            </div><!-- /form-group -->
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <p:outputLabel value="Contraseña:" />
                                        <p:password id="password" class="form-control input-sm" value="#{usuariosBean.password}"
                                                    required="true" requiredMessage="Ingrese una contraseña"/>
                                    </div>
                                </div><!-- /.col -->
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <p:outputLabel id="confirmePassword" value="Confirme su Contraseña:" />
                                        <p:password class="form-control input-sm" value="#{usuariosBean.confirmePassword}" />
                                    </div>
                                </div><!-- /.col -->
                            </div><!-- /.row -->
                            <div class="form-group">
                                <p:outputLabel value="E-mail: " />
                                <p:inputText type="text" class="form-control input-sm" value="#{usuariosBean.correo}"
                                             required="true" requiredMessage="Ingrese una dirección de correo electrónico"/>
                            </div><!-- /form-group -->
                            <div class="form-group">
                                <p:outputLabel value="Perfil: " />
                                <h:selectOneMenu id="perfil" value="#{usuariosBean.perfil}" class="form-control chzn-select"
                                                 required="true" requiredMessage="Especifique perfil">
                                    <f:selectItem itemLabel="Seleccione perfil"/>
                                    <f:selectItem itemLabel="Administrador" itemValue="1" />
                                    <f:selectItem itemLabel="Gestor" itemValue="2" />
                                </h:selectOneMenu>
                            </div><!-- /form-group -->
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div><!-- /.modal-content -->
                </h:form>
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <!-- EDITAR EMPRESAS -->
        <div class="modal fade" id="formModalEditarEmpresa">
            <div class="modal-dialog">
                <h:form id="formNuevoUsuario">
                    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4>Editar empresas</h4>
                        </div>
                        <div class="modal-body">
                            <h:form>
                                <p:dataTable var="empresas" value="#{empresasBean.listaEmpresas}" widgetVar="empresasTable" paginator="true" rows="10"
                                             emptyMessage="No existen registros" filteredValue="#{empresasBean.listaEmpresas}">
                                    <f:facet name="header">
                                        Empresas registradas en el sistema
                                        <p:outputPanel>
                                            <p:inputText id="globalFilter" onkeyup="PF('empresasTable').filter()" style="width:250px" />
                                        </p:outputPanel>
                                    </f:facet>
                                    <p:column headerText="Nombre de la empresa" filterBy="#{empresas.nombreCorto}" filterMatchMode="contains"> 
                                        <h:outputText value="#{empresas.nombreCorto}" />
                                    </p:column>
                                    <!--
                                    <p:column headerText="Nombre de la empresa" filterBy="#{empresas.nombreRazonSocial}" filterMatchMode="contains"> 
                                        <h:outputText value="#{empresas.nombreRazonSocial}" />
                                    </p:column>
                                    -->
                                    <p:column headerText="RFC" filterBy="#{empresas.nombreCorto}" filterMatchMode="contains" style="width:120px;"> 
                                        <h:outputText value="RPU010101123" />
                                    </p:column>
                                    <!--
                                    <p:column headerText="RFC" filterBy="#{empresas.rfc}" filterMatchMode="contains" style="width:120px;"> 
                                        <h:outputText value="#{empresas.rfc}" />
                                    </p:column>
                                    -->
                                    <p:column style="width:100px;text-align:right">
                                        <p:commandButton type="button" value="Editar" icon="ui-icon-pencil" onclick="PF('dlgEditar').show();" process="@this" update="@none" />
                                    </p:column>
                                    <p:column style="width:120px;text-align:right"> 
                                        <p:commandButton type="button" value="Eliminar" icon="ui-icon-minus" onclick="PF('dlgEliminar').show();" process="@this" update="@none" />
                                    </p:column>
                                </p:dataTable>
                                <!-- DIALOGOS DE PRIMEFACES -->
                                <!-- DIALOGO DE EDITAR USUARIO -->
                                <p:dialog header="Editar usuario" widgetVar="dlgEditar" modal="true" height="100" appendToBody="false">
                                    <h:outputText value="Aqui se editaran los putos usuarios de mierda" />
                                </p:dialog>
                                <!-- DIALOGO DE EDITAR USUARIO -->
                                <p:dialog header="Eliminar usuario" widgetVar="dlgEliminar" modal="true" height="100" appendToBody="false">
                                    <h:outputText value="Aqui se eliminaran a tomar por culo los usuarios de mierda" />
                                </p:dialog>
                            </h:form>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div><!-- /.modal-content -->
                </h:form>
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <!-- Footer ================================================== -->
        <ui:include src="barraInferior.xhtml" />
    </body>
</html>
