<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns="http://www.w3.org/1999/xhtml">
  <h:head>
    <meta charset="utf-8"></meta>
  </h:head>
  <h:body>
    <div class="main-header clearfix">
      <h:form id="formCuentasGestor">
        <p:contextMenu for="campanasGestor" style="width:200px;">
          <p:menuitem value="Gestionar campaña" icon="ui-icon-check" actionListener="#{cuentasGestorBean.preparaCampana()}" update=":growl" />
        </p:contextMenu>
        <p:dataTable id="campanasGestor" var="l" value="#{cuentasGestorBean.listaCreditosCampanas}" selectionMode="single" selection="#{cuentasGestorBean.seleccion}" rowKey="#{l.idCampana}" emptyMessage="No existen campañas disponibles." style="width: 500px;">
          <p:column headerText="Campaña" style="width:300px;">
            <h:outputText value="#{l.nombreCampana}" />
          </p:column>
          <p:column headerText="Cuentas" style="width:70px;">
            <h:outputText value="#{l.cuentasEnCampana}"/>
          </p:column>
          <p:column headerText="Gestion hoy" style="width:100px;">
            <h:outputText value="#{l.progresoCampana}"/>
          </p:column>
          <f:facet name="footer">
            <p:button value="Actualizar" icon="ui-icon-refresh" outcome="panelGestor" />
          </f:facet>
        </p:dataTable>
      </h:form>
    </div>
  </h:body>
</html>